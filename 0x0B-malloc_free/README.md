working in memory with malloc
